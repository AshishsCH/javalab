#include <stdio.h> 
#include <stdlib.h> 
struct Node { 
    int data; 
    struct Node* next; 
}; 
struct Node* head = NULL; 
void insert(int x) { 
    struct Node* n = malloc(sizeof(struct Node)); 
    n->data = x; 
    if (head == NULL) { 
        head = n; 
        n->next = head; 
    } else { 
        struct Node* t = head; 
        while (t->next != head) 
            t = t->next; 
        t->next = n; 
        n->next = head; 
    } 
} 
void del(int pos) { 
    if (head == NULL) return; 
    struct Node *t = head, *prev = NULL; 
    if (pos == 1) { 
        while (t->next != head) 
            t = t->next; 
        struct Node* temp = head; 
        if (head->next == head) { 
            head = NULL; 
        } else { 
            t->next = head->next; 
            head = head->next;  } 
        free(temp); 
        return; } 
    t = head; 
    for (int i = 1; i < pos; i++) { 
        prev = t; 
        t = t->next; 
        if (t == head) return;   } 
    prev->next = t->next; 
    free(t);  } 
void show() { 
    if (head == NULL) { 
        printf("List is empty\n"); 
        return; } 
    struct Node* t = head; 
    do { 
        printf("%d -> ", t->data); 
        t = t->next; 
    } while (t != head); 
    printf("(back to head)\n"); 
} 
int main() { 
    insert(10); 
    insert(20); 
    insert(30); 
    show();       
    del(2); 
    show();       
    return 0; } 
